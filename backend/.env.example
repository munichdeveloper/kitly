# Kitly Backend Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# Database Configuration
# =============================================================================
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/kitlydb
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=postgres

# =============================================================================
# JWT Configuration
# =============================================================================
# Main JWT secret for user authentication (min 256 bits recommended)
JWT_SECRET=kitly-secret-key-for-jwt-token-signing-please-change-in-production

# JWT token expiration in milliseconds (default: 24 hours)
JWT_EXPIRATION=86400000

# Session JWT secret for tenant-scoped sessions
JWT_SESSION_SECRET=session-secret-key-for-jwt-token-signing-please-change-in-production

# Session token expiration in milliseconds (default: 15 minutes)
JWT_SESSION_EXPIRATION=900000

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# Application Configuration
# =============================================================================
# Active Spring profile: dev, test, prod
SPRING_PROFILES_ACTIVE=dev

# Server port
SERVER_PORT=8080

# =============================================================================
# Flyway Configuration
# =============================================================================
FLYWAY_ENABLED=true
FLYWAY_BASELINE_ON_MIGRATE=true
FLYWAY_CLEAN_DISABLED=false

# =============================================================================
# JPA/Hibernate Configuration
# =============================================================================
# DDL mode: none, validate, update, create, create-drop
# Use 'none' in production with Flyway
# Use 'update' for local development
SPRING_JPA_HIBERNATE_DDL_AUTO=update

# Show SQL queries in logs (set to false in production)
SPRING_JPA_SHOW_SQL=true

# =============================================================================
# Logging Configuration
# =============================================================================
# Log levels: TRACE, DEBUG, INFO, WARN, ERROR
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_KITLY=DEBUG
LOGGING_LEVEL_ORG_HIBERNATE=WARN
LOGGING_LEVEL_ORG_FLYWAYDB=INFO

# =============================================================================
# OIDC Configuration (Optional)
# =============================================================================
# Enable OIDC authentication
# OIDC_ENABLED=false
# OIDC_ISSUER=https://your-oidc-provider.com
# OIDC_CLIENT_ID=your-client-id
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_REDIRECT_URI=http://localhost:8080/api/auth/callback

# =============================================================================
# Email Configuration (Optional)
# =============================================================================
# Mail server configuration for sending invitations
# MAIL_HOST=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-app-password
# MAIL_FROM=noreply@kitly.com

# =============================================================================
# Monitoring & Observability (Optional)
# =============================================================================
# Enable Spring Boot Actuator endpoints
# MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics

# =============================================================================
# Production-Only Settings
# =============================================================================
# Uncomment and configure for production deployments

# SSL Configuration
# SERVER_SSL_ENABLED=true
# SERVER_SSL_KEY_STORE=/path/to/keystore.p12
# SERVER_SSL_KEY_STORE_PASSWORD=your-keystore-password
# SERVER_SSL_KEY_STORE_TYPE=PKCS12

# Database Connection Pool
# SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=10
# SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
# SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=30000

# Rate Limiting (if implemented)
# RATE_LIMIT_ENABLED=true
# RATE_LIMIT_PER_MINUTE=100
# RATE_LIMIT_PER_HOUR=1000
